
<!doctype html>
<html>
    <head>
        <meta charset='utf-8'>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <link rel="icon" type="image/x-icon" href="/img/favicon.ico"/>

        <title>View Bill</title>

        <link href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css' rel='stylesheet'>
        <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet'>
        <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
        <script src="https://kit.fontawesome.com/ff8698dfe7.js" crossorigin="anonymous"></script>



        <style>
        
        body{
        overflow-x: hidden
      }
.wrapper {
    height: auto;
    background: #000;
    background: url("https://i.imgur.com/DWu2SHz.jpg");
    background-size: cover;
    width: auto;
}

.overlay {
    width: auto;
    height: auto;
    background: rgba(0, 0, 0, 0.8)
}

.contact-us {
    margin-top: 50px;
    margin-bottom: 50px
}

.contact-us h3,
p {
    color: #fff
}

.address {
    margin-top: 14px !important;
    margin-left: 10px
}

.address span {
    color: #1b9e9e
}

.icons {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: #fff;
    display: inline-block;
    display: flex;
    justify-content: center;
    align-items: center
}

.icons i {
    font-size: 20px
}

.inputs textarea {
    margin-bottom: 13px;
    border: none;
    border-bottom: 2px solid #eee;
    width: 100%;
    resize: none
}

.inputs textarea:focus {
    margin-bottom: 13px;
    border: none;
    border-bottom: 2px solid #2c87bb;
    box-shadow: none;
    resize: none
}
    
.launch{
   height: 50px
  }
.close{
   font-size: 21px;
   cursor: pointer
  }
.modal-body{
   height: 450px
  }
.nav-tabs{
   border:none !important
  }
.nav-tabs .nav-link.active{
   color: #495057;
   background-color: #fff;
   border-color: #ffffff #ffffff #fff;
   border-top: 3px solid blue !important
  
  }
  .nav-tabs .nav-link{
      margin-bottom: -1px;
      border: 1px solid transparent;
      border-top-left-radius: 0rem;
      border-top-right-radius: 0rem;
      border-top: 3px solid #eee;
      font-size: 20px
  }
  .nav-tabs .nav-link:hover{
      border-color: #e9ecef #ffffff #ffffff
  }
  .nav-tabs{
      display: table !important;
      width: 100%
  }
  .nav-item{
      display: table-cell
  }
  .form-control{
      border-bottom: 1px solid #eee !important;
      border:none;
      font-weight: 600
  }
  .form-control:focus{
      color: #495057;
      background-color: #fff;
      border-color: #8bbafe;
      outline: 0;
      box-shadow: none
  }
      .inputbox{
          position: relative;
          margin-bottom: 20px;
          width: 100%
      }
          .inputbox span{
              position: absolute;
              top:7px;
              left: 11px;
              transition: 0.5s
          }.inputbox i{
              position: absolute;
              top: 13px;
              right: 8px;
              transition: 0.5s;
              color: #3F51B5
          }
          input::-webkit-outer-spin-button, input::-webkit-inner-spin-button
          {
              -webkit-appearance: none;
              margin: 0
          }
          .inputbox input:focus~span{
              transform: translateX(-0px) translateY(-15px);
              font-size: 12px
          }
          .inputbox input:valid~span{
              transform: translateX(-0px) translateY(-15px);
              font-size: 12px
          }
          .pay button{
              height: 47px;
              border-radius: 37px
          }

.form-group label {
    font-size:1rem;
    font-weight: 400;
    line-height: 1.4rem;
    vertical-align: top;
    margin-bottom: .5rem;
}

</style>

        </head>
        <!--Start Header-->
        <%- include ('../partials/navHome.ejs') %>
    <!--End Header-->
    
    <div class="wrapper"> 
        <div class="overlay"> 
            <div class="row d-flex justify-content-center align-items-center"> 
                <div class="col-md-9"> 

       <div class="contact-us text-center"> 
        <h3><i class="fa-solid fa-money-bill"></i> Bill Details</h3> 
        <div class="row"> 

                <div class="col-md-6">
                <div class="mt-5 text-center px-3"> 

                <div class="d-flex flex-row align-items-center"> 
                    <span class="icons"><i class="fa-solid fa-user"></i></span> 
                    <div class="address text-left"> 
                        <span>Doctor Name</span> <p style=" text-transform: capitalize" ><%=bill.Doc_Id.Doc_FirstName %></p>
                    </div> 
                </div> 

                <div class="d-flex flex-row align-items-center mt-3"> 
                    <span class="icons"><i class="fa-solid fa-book-medical"></i></span> 
                    <div class="address text-left"> 
                        <span>Specialization</span> <p><%=bill.Doc_Id.Specialization_Name %></p> 
                    </div> 
                </div>

                <div class="d-flex flex-row align-items-center mt-3"> 
                    <span class="icons"><i class="fa-solid fa-calendar-day"></i></span> 
                     <div class="address text-left"> 
                        <span>Chosen Day</span> <p><%=bill.Appoinment_Id.App_visit_day%></p>
                    </div>
                 </div>

                 <div class="d-flex flex-row align-items-center mt-3"> 
                    <span class="icons"><i class="fa-solid fa-clock"></i></span> 
                     <div class="address text-left"> 
                        <span>Chosen Hour</span> <p><%=bill.Appoinment_Id.App_RegVisit_time%></p>
                    </div>
                 </div>

                 <div class="d-flex flex-row align-items-center mt-3"> 
                    <span class="icons"><i class="fa-solid fa-clock"></i></span> 
                     <div class="address text-left"> 
                        <span>Method of Communication</span> <p><%=bill.Appoinment_Id.App_visit_day%></p>
                    </div>
                 </div>


                </div> 
                </div> 


                <div class="col-md-6"> 
                    <div class="text-center px-1 py-5"> 
                        <div class="forms p-4 py-5 bg-white">
                            <h5> <i class="fa-solid fa-money-bill"></i> Bill & Payment</h5> 
                               
                            

                                    <div class="form-group row">
                                      <div class="col">
                                        <label>Patient Name</label>
                                        <input type="text" class="form-control input-sm" style=" text-transform: capitalize" placeholder="<%=bill.Pat_Id.pat_FirstName %>" name="" disabled />
                                      </div>
                                      <div class="col">
                                        <label>Doctor Name</label>
                                        <input type="text" class="form-control
                                    input-sm" style=" text-transform: capitalize"  placeholder="Doctor <%=bill.Doc_Id.Doc_FirstName %>" name="" disabled />
                                      </div>
                                    </div>

                                    <div class="form-group row">
                                        <div class="col">
                                            <% const date = bill.Bill_Date.toDateString()%> 
                                          <label>Appointment Date</label>
                                          <input type="text" class="form-control
                                    input-sm"  placeholder="<%=date %> " name="" disabled />
                                        </div>
                                        <div class="col">
                                          <label>Payment in EGP</label>
                                          <input type="text" class="form-control 
                                    input-sm" placeholder="<%=bill.Bill_Amount%>" name="" disabled />
                                        </div>
                                      </div>

                                    <div class="form-group">
                                      <label>Payment Status</label>
                                      <input type="text" class="form-control mt-3" placeholder="<%=bill.Bill_status%> " name="" disabled> 
                                    </div>
                          


                        <div class="alert alert-light text-danger" role="alert">
                            <%- errorMessage %> 
                          </div>
                          <div class="alert alert-light text-success" role="alert">
                            <%- Message %> 
                          </div>
                    

                           <button type="button" class="btn btn-success launch" data-toggle="modal" data-target="#staticBackdrop"disabled="true"> <i class="fa fa-rocket"></i> Pay Now
                           </button> 
                        </div>
                    </div>  
                    <form class="mt-3">
                        <input class="btn btn-danger" type="button" value="Go back" onclick="history.back()">
                       </form>
                </div>

               <!-- Paypal Credit Modal -->
               <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"> 
                   <div class="modal-dialog"> 
                       <div class="modal-content"> 
                           <div class="modal-body"> 
                               <div class="text-right"> 
                                   <i class="fa fa-close close" data-dismiss="modal"></i> 
                                </div> 
                                <div class="tabs mt-3"> 
                                    <ul class="nav nav-tabs" id="myTab" role="tablist"> 
                                        <li class="nav-item" role="presentation"> 
                                            <a class="nav-link active" id="visa-tab" data-toggle="tab" href="#visa" role="tab" aria-controls="visa" aria-selected="true"> <img src="https://i.imgur.com/sB4jftM.png" width="80"> </a> 
                                        </li> 
                                        <li class="nav-item" role="presentation"> <a class="nav-link" id="paypal-tab" data-toggle="tab" href="#paypal" role="tab" aria-controls="paypal" aria-selected="false"> <img src="https://i.imgur.com/yK7EDD1.png" width="80"> </a> 
                                        </li> 
                                        <li class="nav-item" role="presentation"> <a class="nav-link" id="vodafone-tab" data-toggle="tab" href="#vodafone" role="tab" aria-controls="vodafone" aria-selected="false"> <img src="https://i.imgur.com/80tObqg.png" width="80"> </a> 
                                        </li>
                          </ul> 
                          <div class="tab-content" id="myTabContent"> 
                              <div class="tab-pane fade show active" id="visa" role="tabpanel" aria-labelledby="visa-tab"> 
                                  <div class="mt-4 mx-4"> 
                                      <div class="text-center"> <h5>Credit card</h5> 
                                      </div> 
                                      <div class="form mt-3"> 
                                        <form  action="http://localhost:5000/patient/payment-visa" method="POST">
                                         
                                          <div class="inputbox"> 
                                      
                                              <input type="text" name="Pay_Card_Holder" class="form-control" required="required" autocomplete="off"> 
                                              <span>Cardholder Name</span>
                                          </div> 
                                          <div class="inputbox"> 
                                              <input type="number" name="Pay_Card_Number" min="16"  class="form-control" required="required" autocomplete="off"> <span>Card Number</span> 
                                          </div> 
                                          <div class="d-flex flex-row"> 
                                              <div class="inputbox"> <input type="text" name="Pay_Card_expDate" min="5" class="form-control" required="required" autocomplete="off"> <span>Expiration Date</span> 
                                              </div> 
                                              <div class="inputbox"> <input type="text" name="name" min="3"  class="form-control" autocomplete="off"> <span>CVV</span> 
                                              </div> 
                                      
                                              <div>
                                               <input hidden value="<%=bill._id%>" name="BillId">
                                              <input hidden value="<%=bill.Bill_Amount%>" name="Bill_Amount">
                                              <input hidden value="<%=bill.Appoinment_Id._id%>" name="AppoId">
                                              <input hidden value="<%=bill.Doc_Id._id%>" name="DocId">
                                              <!-- <input hidden value="bill.Pat_id._id%>" name="PatId"> -->
                                              </div>
                                          </div> 
                                          <div class="px-5 pay"> <button class="btn btn-success btn-block" type="submit">Complete Payment</button> 
                                          </div> 
                                        </form>
                                      </div> 
                                  </div> 
                              </div> 
                           <div class="tab-pane fade" id="paypal" role="tabpanel" aria-labelledby="paypal-tab"> 
                            <form  action="http://localhost:5000/patient/payment-paypal" method="POST">
                                <input hidden value="<%=bill._id%>" name="BillId">
                                <input hidden value="<%=bill.Bill_Amount%>" name="Bill_Amount">
                                <input hidden value="<%=bill.Appoinment_Id._id%>" name="AppoId">
                                <input hidden value="<%=bill.Doc_Id._id%>" name="DocId">
                               <div class="px-5 mt-5"> <div class="inputbox"> 
                                   <input type="text" name="Pay_PayPal_Email" class="form-control" required="required" autocomplete="off"> 
                                   <span>Paypal Email Address</span> 
                                </div> 
                                <div class="pay px-5"> 
                                    <button class="btn btn-primary btn-block" type="submit">Complete Payment</button> 
                                </div> 
                            </div>
                         </form>
                           </div> 
                        <div class="tab-pane fade" id="vodafone" role="tabpanel" aria-labelledby="vodafone-tab"> 
                            <div class="mt-4 mx-4"> 
                                <div class="text-center"> <h5>Vodafone Credit card</h5> 
                                 
                                    <form  action="http://localhost:5000/patient/payment-vodcash" method="POST">
                                        <input hidden value="<%=bill._id%>" name="BillId">
                                        <input hidden value="<%=bill.Bill_Amount%>" name="Bill_Amount">
                                        <input hidden value="<%=bill.Appoinment_Id._id%>" name="AppoId">
                                        <input hidden value="<%=bill.Doc_Id._id%>" name="DocId">
                                <div class="form mt-3">

                                    <div class="inputbox">   
                                        
                                        <input type="number" name="Pay_VodCash_Number"  class="form-control" required="required" autocomplete="off"> <span>Phone Number</span> 
                                    </div> 
                                    <div class="text-center">
                                        <h6>This service is only for Vodafone Cash customers.</h6>
                                        <h6>Maximum daily amount is 3000 EGP.</h6>
                                        <h6><a href="https://youtu.be/1RUmM158nK8" target=”_blank”>Click here for more information</a></h6>
                                    </div>
                                    <div class="px-5 pay mt-3"> <button class="btn btn-danger btn-block" type="submit">Complete Payment</button> 
                                    </div> 
                                
                            </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                          </div> 
                                </div> 
                                </div> 
</div> 
</div> 
</div>
</div>                                              
</div> 
</div> 
</div> 
</div>  
</div> 




        <script type='text/javascript' src='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js'></script>
        <script type='text/javascript'>$(document).ready(function(){

var current_fs, next_fs, previous_fs;

// No BACK button on first screen
if($(".show").hasClass("first-screen")) {
$(".prev").css({ 'display' : 'none' });
}

// Next button
$(".next-button").click(function(){

current_fs = $(this).parent().parent();
next_fs = $(this).parent().parent().next();

$(".prev").css({ 'display' : 'block' });

$(current_fs).removeClass("show");
$(next_fs).addClass("show");

$("#progressbar li").eq($(".card2").index(next_fs)).addClass("active");

current_fs.animate({}, {
step: function() {

current_fs.css({
'display': 'none',
'position': 'relative'
});

next_fs.css({
'display': 'block'
});
}
});
});

// Previous button
$(".prev").click(function(){

current_fs = $(".show");
previous_fs = $(".show").prev();

$(current_fs).removeClass("show");
$(previous_fs).addClass("show");

$(".prev").css({ 'display' : 'block' });

if($(".show").hasClass("first-screen")) {
$(".prev").css({ 'display' : 'none' });
}

$("#progressbar li").eq($(".card2").index(current_fs)).removeClass("active");

current_fs.animate({}, {
step: function() {

current_fs.css({
'display': 'none',
'position': 'relative'
});

previous_fs.css({
'display': 'block'
});
}
});
});

});</script>
        <script type='text/javascript'>var myLink = document.querySelector();
        myLink.addEventListener('click', function(e) {
          e.preventDefault();
        });</script>
    
    <br>
    <br>
    <br>
    <footer>
        <%- include ('../partials/footer.ejs') %> 
        </footer>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"></script>
        <script type='text/javascript' src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/js/bootstrap.bundle.min.js'></script>
    </body>
    </html>