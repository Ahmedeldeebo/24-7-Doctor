
<!doctype html>
<html>
    <head>
        <meta charset='utf-8'>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <link rel="icon" type="image/x-icon" href="/img/favicon.ico"/>

        <title>View Bill</title>

        <link href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css' rel='stylesheet'>
        <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet'>
        <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
        <script src="https://kit.fontawesome.com/ff8698dfe7.js" crossorigin="anonymous"></script>



        <style>
        
        ::-webkit-scrollbar {
          width: 8px;
        }

        /* Track */
        ::-webkit-scrollbar-track {
          background: #f1f1f1; 
        }
         
        /* Handle */
        ::-webkit-scrollbar-thumb {
          background: #888; 
        }
        
        /* Handle on hover */
        ::-webkit-scrollbar-thumb:hover {
          background: #555; 
        } 
        
        body {
color: #000;
overflow-x: hidden;
height: 100%;
background-repeat: no-repeat;
}





input, select {
padding: 2px;
border-radius: 4px;
box-sizing: border-box;
color: #9E9E9E;
border: 1px solid #BDBDBD;
font-size: 16px;
letter-spacing: 1px;
height: 50px !important;
}

select {
width: 100%;
margin-bottom: 85px;
}

input:focus, select:focus {
-moz-box-shadow: none !important;
-webkit-box-shadow: none !important;
box-shadow: none !important;
border: 1px solid #2aafc7 !important;
outline-width: 0 !important;
}

/*Red colored checkbox*/
.custom-checkbox .custom-control-input:checked~.custom-control-label::before {
background-color: #4dbac9;
}

.form-group {
position: relative;
margin-bottom: 1.5rem;
width: 77%;
}

.form-control-placeholder {
position: absolute;
top: 0px;
padding: 12px 2px 0 2px;
transition: all 300ms;
opacity: 0.5;
}

.form-control:focus + .form-control-placeholder,
.form-control:valid + .form-control-placeholder {
font-size: 95%;
top: 10px;
transform: translate3d(0, -100%, 0);
opacity: 1;
background-color: #fff;
}

.next-button {
width: 18%;
height: 50px;
background-color: #BDBDBD;
color: #fff;
border-radius: 6px;
padding: 10px;
cursor: pointer;
}

.next-button:hover {
background-color: #4dbac9;
color: #fff;
}

.get-bonus {
margin-left: 600px;
}

/*Logo pic*/
.pic {
width: 350px;
height: 110px;
}

/*Icon progressbar*/
#progressbar {
position: absolute;
left: 35px;
overflow: hidden;
color: #4dbac9;
} 

#progressbar li {
list-style-type: none;
font-size: 8px;
font-weight: 400;
margin-bottom: 36px;
}

#progressbar li:nth-child(3) {
margin-bottom: 88px;
}

#progressbar .step0:before {
content: "";
color: #fff;
}

#progressbar li:before {
width: 30px;
height: 30px;
line-height: 30px;
display: block;
font-size: 20px;
background: #fff;
border: 2px solid #4dbac9;
border-radius: 50%;
margin: auto;
}

#progressbar li:last-child:before {
width: 40px;
height: 40px;
}

/*ProgressBar connectors*/
#progressbar li:after {
content: '';
width: 3px;
height: 66px;
background: #BDBDBD;
position: absolute;
left: 58px;
top: 15px;
z-index: -1;
}

#progressbar li:last-child:after {
top: 147px;
height: 132px;
}

#progressbar li:nth-child(3):after {
top: 81px;
}

#progressbar li:nth-child(2):after {
top: 0px;
}

#progressbar li:first-child:after {
position: absolute;
top: -81px;
}

/*Color of the connector before*/
#progressbar li.active:after {
background: #4dbac9;
}

/*Color of the step before*/
#progressbar li.active:before {
background: #4dbac9;
font-family: FontAwesome;
content: "\f00c";
}

.tick {
width: 400px;
height: 200px;
}

.prev {
display: block;
position: absolute;
left: 40px;
top: 20px;
cursor: pointer;
}

.prev:hover {
color: #4dbac9 !important;
}

@media screen and (max-width: 912px) {
.card00 {
padding-top: 30px;
}

.card1 {
border: none;
margin-left: 50px;
}

.card2 {
border-bottom: 1px solid #F5F5F5;
margin-bottom: 25px;
}

#progressbar {
left: -25px;
}
}
.wrapper {
    height: 80vh;
    background: #000;
    background: url("https://i.imgur.com/DWu2SHz.jpg");
    background-size: cover;
    width: 100%
}

.overlay {
    width: 100%;
    height: 100vh;
    background: rgba(0, 0, 0, 0.8)
}

.contact-us {
    margin-top: 50px;
    margin-bottom: 50px
}

.contact-us h3,
p {
    color: #fff
}

.address {
    margin-top: 14px !important;
    margin-left: 10px
}

.address span {
    color: #1b9e9e
}

.icons {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: #fff;
    display: inline-block;
    display: flex;
    justify-content: center;
    align-items: center
}

.icons i {
    font-size: 20px
}

.inputs input {
    margin-bottom: 13px;
    border: none;
    border-bottom: 2px solid #eee
}

.inputs input:focus {
    margin-bottom: 13px;
    border: none;
    border-bottom: 2px solid #1f83a2;
    box-shadow: none
}

.inputs textarea {
    margin-bottom: 13px;
    border: none;
    border-bottom: 2px solid #eee;
    width: 100%;
    resize: none
}

.inputs textarea:focus {
    margin-bottom: 13px;
    border: none;
    border-bottom: 2px solid #2c87bb;
    box-shadow: none;
    resize: none
}
    
.launch{
   height: 50px
  }
.close{
   font-size: 21px;
   cursor: pointer
  }
.modal-body{
   height: 450px
  }
.nav-tabs{
   border:none !important
  }
.nav-tabs .nav-link.active{
   color: #495057;
   background-color: #fff;
   border-color: #ffffff #ffffff #fff;
   border-top: 3px solid blue !important
  
  }
  .nav-tabs .nav-link{
      margin-bottom: -1px;
      border: 1px solid transparent;
      border-top-left-radius: 0rem;
      border-top-right-radius: 0rem;
      border-top: 3px solid #eee;
      font-size: 20px
  }
  .nav-tabs .nav-link:hover{
      border-color: #e9ecef #ffffff #ffffff
  }
  .nav-tabs{
      display: table !important;
      width: 100%
  }
  .nav-item{
      display: table-cell
  }
  .form-control{
      border-bottom: 1px solid #eee !important;
      border:none;
      font-weight: 600
  }
  .form-control:focus{
      color: #495057;
      background-color: #fff;
      border-color: #8bbafe;
      outline: 0;
      box-shadow: none
  }
      .inputbox{
          position: relative;
          margin-bottom: 20px;
          width: 100%
      }
          .inputbox span{
              position: absolute;
              top:7px;
              left: 11px;
              transition: 0.5s
          }.inputbox i{
              position: absolute;
              top: 13px;
              right: 8px;
              transition: 0.5s;
              color: #3F51B5
          }
          input::-webkit-outer-spin-button, input::-webkit-inner-spin-button
          {
              -webkit-appearance: none;
              margin: 0
          }
          .inputbox input:focus~span{
              transform: translateX(-0px) translateY(-15px);
              font-size: 12px
          }
          .inputbox input:valid~span{
              transform: translateX(-0px) translateY(-15px);
              font-size: 12px
          }
          .pay button{
              height: 47px;
              border-radius: 37px
          }

</style>

        </head>
        <!--Start Header-->
        <%- include ('../partials/navHome.ejs') %>
    <!--End Header-->
    
    <div class="wrapper"> 
        <div class="overlay"> 
            <div class="row d-flex justify-content-center align-items-center"> 
                <div class="col-md-9"> 

       <div class="contact-us text-center"> 
        <h3><i class="fa-solid fa-money-bill"></i> Bill Details</h3> 
        <div class="row"> 

                <div class="col-md-6">
                <div class="mt-5 text-center px-3"> 

                <div class="d-flex flex-row align-items-center"> 
                    <span class="icons"><i class="fa-solid fa-user"></i></span> 
                    <div class="address text-left"> 
                        <span>Doctor Name</span> <p style=" text-transform: capitalize" ><%=bill.Doc_Id.Doc_FirstName %></p>
                    </div> 
                </div> 

                <div class="d-flex flex-row align-items-center mt-3"> 
                    <span class="icons"><i class="fa-solid fa-book-medical"></i></span> 
                    <div class="address text-left"> 
                        <span>Specialization</span> <p><%=bill.Doc_Id.Specialization_Name %></p> 
                    </div> 
                </div>

                <div class="d-flex flex-row align-items-center mt-3"> 
                    <span class="icons"><i class="fa-solid fa-calendar-day"></i></span> 
                     <div class="address text-left"> 
                        <span>Chosen Day</span> <p><%=bill.Appoinment_Id.App_visit_day%></p>
                    </div>
                 </div>

                 <div class="d-flex flex-row align-items-center mt-3"> 
                    <span class="icons"><i class="fa-solid fa-clock"></i></span> 
                     <div class="address text-left"> 
                        <span>Chosen Hour</span> <p><%=bill.Appoinment_Id.App_RegVisit_time%></p>
                    </div>
                 </div>

                 <div class="d-flex flex-row align-items-center mt-3"> 
                    <span class="icons"><i class="fa-solid fa-clock"></i></span> 
                     <div class="address text-left"> 
                        <span>Method of Communication</span> <p><%=bill.Appoinment_Id.App_visit_day%></p>
                    </div>
                 </div>


                </div> 
                </div> 


                <div class="col-md-6"> 
                    <div class="text-center px-1 py-5"> 
                        <div class="forms p-4 py-5 bg-white">
                            <h5> <i class="fa-solid fa-money-bill"></i> Bill & Payment</h5> 
                                       

                           <div class="input-group">
  
                            <!-- declaration for first field -->
                            <input type="text" class="form-control mt-3
                                    input-sm" style=" text-transform: capitalize"   placeholder="<%=bill.Pat_Id.pat_FirstName %>" name="" disabled />
                      
                            <!-- reducong the gap between them to zero -->
                            <span class="input-group-btn" 
                                style="width:10px;"></span>
                      
                            <!-- declaration for second field -->
                            <input type="text" class="form-control mt-3
                                    input-sm" style=" text-transform: capitalize"  placeholder="Doctor <%=bill.Doc_Id.Doc_FirstName %>" name="" disabled />
                        </div>
                        <div class="input-group">
  
                            <!-- declaration for first field -->
                            <% const date = bill.Bill_Date.toDateString()%> 
                            <input type="text" class="form-control mt-3
                                    input-sm"  placeholder="<%=date %> " name="" disabled />
                      
                            <!-- reducong the gap between them to zero -->
                            <span class="input-group-btn" 
                                style="width:10px;"></span>
                      
                            <!-- declaration for second field -->
                            <input type="text" class="form-control mt-3
                                    input-sm" placeholder="<%=bill.Bill_Amount%> EGP" name="" disabled />
                        </div>

                        <div class="form-outline mt-4"> 
                            <input type="text" class="form-control mt-3" placeholder="<%=bill.Bill_status%> " name="" disabled> 
                        </div>
                        <div class="alert alert-light text-danger" role="alert">
                            <%- errorMessage %> 
                          </div>
                          <div class="alert alert-light text-success" role="alert">
                            <%- Message %> 
                          </div>

                           <!-- <div class="button mt-5 text-center"> 
                               <button class="btn btn-success" type="submit">Pay Now</button> 
                           </div> -->

                           <button type="button" class="btn btn-success launch mt-5" data-toggle="modal" data-target="#staticBackdrop"> <i class="fa fa-rocket"></i> Pay Now
                           </button> 

  


               <!-- Paypal Credit Modal -->
               <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"> 
                   <div class="modal-dialog"> 
                       <div class="modal-content"> 
                           <div class="modal-body"> 
                               <div class="text-right"> 
                                   <i class="fa fa-close close" data-dismiss="modal"></i> 
                                </div> 
                                <div class="tabs mt-3"> 
                                    <ul class="nav nav-tabs" id="myTab" role="tablist"> 
                                        <li class="nav-item" role="presentation"> 
                                            <a class="nav-link active" id="visa-tab" data-toggle="tab" href="#visa" role="tab" aria-controls="visa" aria-selected="true"> <img src="https://i.imgur.com/sB4jftM.png" width="80"> </a> 
                                        </li> 
                                        <li class="nav-item" role="presentation"> <a class="nav-link" id="paypal-tab" data-toggle="tab" href="#paypal" role="tab" aria-controls="paypal" aria-selected="false"> <img src="https://i.imgur.com/yK7EDD1.png" width="80"> </a> 
                                        </li> 
                                        <li class="nav-item" role="presentation"> <a class="nav-link" id="vodafone-tab" data-toggle="tab" href="#vodafone" role="tab" aria-controls="vodafone" aria-selected="false"> <img src="https://i.imgur.com/80tObqg.png" width="80"> </a> 
                                        </li>
                          </ul> 
                          <div class="tab-content" id="myTabContent"> 
                              <div class="tab-pane fade show active" id="visa" role="tabpanel" aria-labelledby="visa-tab"> 
                                  <div class="mt-4 mx-4"> 
                                      <div class="text-center"> <h5>Credit card</h5> 
                                      </div> 
                                      <div class="form mt-3"> 
                                        <form  action="http://localhost:5000/patient/payment-visa" method="POST">
                                         
                                          <div class="inputbox"> 
                                      
                                              <input type="text" name="Pay_Card_Holder" class="form-control" required="required" autocomplete="off"> 
                                              <span>Cardholder Name</span>
                                          </div> 
                                          <div class="inputbox"> 
                                              <input type="number" name="Pay_Card_Number" min="16"  class="form-control" required="required" autocomplete="off"> <span>Card Number</span> 
                                          </div> 
                                          <div class="d-flex flex-row"> 
                                              <div class="inputbox"> <input type="text" name="Pay_Card_expDate" min="5" class="form-control" required="required" autocomplete="off"> <span>Expiration Date</span> 
                                              </div> 
                                              <div class="inputbox"> <input type="text" name="name" min="3"  class="form-control" autocomplete="off"> <span>CVV</span> 
                                              </div> 
                                      
                                              <div>
                                               <input hidden value="<%=bill._id%>" name="BillId">
                                              <input hidden value="<%=bill.Bill_Amount%>" name="Bill_Amount">
                                              <input hidden value="<%=bill.Appoinment_Id._id%>" name="AppoId">
                                              <input hidden value="<%=bill.Doc_Id._id%>" name="DocId">
                                              <!-- <input hidden value="bill.Pat_id._id%>" name="PatId"> -->
                                              </div>
                                          </div> 
                                          <div class="px-5 pay"> <button class="btn btn-success btn-block" type="submit">Complete Payment</button> 
                                          </div> 
                                        </form>
                                      </div> 
                                  </div> 
                              </div> 
                           <div class="tab-pane fade" id="paypal" role="tabpanel" aria-labelledby="paypal-tab"> 
                            <form  action="http://localhost:5000/patient/payment-paypal" method="POST">
                                <input hidden value="<%=bill._id%>" name="BillId">
                                <input hidden value="<%=bill.Bill_Amount%>" name="Bill_Amount">
                                <input hidden value="<%=bill.Appoinment_Id._id%>" name="AppoId">
                                <input hidden value="<%=bill.Doc_Id._id%>" name="DocId">
                               <div class="px-5 mt-5"> <div class="inputbox"> 
                                   <input type="text" name="Pay_PayPal_Email" class="form-control" required="required" autocomplete="off"> 
                                   <span>Paypal Email Address</span> 
                                </div> 
                                <div class="pay px-5"> 
                                    <button class="btn btn-primary btn-block" type="submit">Complete Payment</button> 
                                </div> 
                            </div>
                         </form>
                        </div> 
                        <div class="tab-pane fade" id="vodafone" role="tabpanel" aria-labelledby="vodafone-tab"> 
                            <div class="mt-4 mx-4"> 
                                <div class="text-center"> <h5>Vodafone Credit card</h5> 
                                 
                                    <form  action="http://localhost:5000/patient/payment-vodcash" method="POST">
                                        <input hidden value="<%=bill._id%>" name="BillId">
                                        <input hidden value="<%=bill.Bill_Amount%>" name="Bill_Amount">
                                        <input hidden value="<%=bill.Appoinment_Id._id%>" name="AppoId">
                                        <input hidden value="<%=bill.Doc_Id._id%>" name="DocId">
                                <div class="form mt-3">

                                    <div class="inputbox">   
                                        
                                        <input type="number" name="Pay_VodCash_Number"  class="form-control" required="required" autocomplete="off"> <span>Phone Number</span> 
                                    </div> 
                                    <!-- <div class="d-flex flex-row">  
                                        <div class="inputbox"> <input type="text" name="name" min="1" max="999" class="form-control" required="required" autocomplete="off"> <span>Expiration Date</span> 
                                        </div> 
                                         <div class="inputbox"> <input type="text" name="name" min="1" max="999" class="form-control" required="required" autocomplete="off"> <span>CVV</span> 
                                        </div> 
                                    </div>  -->
                                    <div class="text-center">
                                        <h6>This service is only for Vodafone Cash customers.</h6>
                                        <h6>Maximum daily amount is 3000 EGP.</h6>
                                        <h6><a href="https://youtu.be/1RUmM158nK8" target=”_blank”>Click here for more information</a></h6>
                                    </div>
                                    <div class="px-5 pay mt-3"> <button class="btn btn-danger btn-block" type="submit">Complete Payment</button> 
                                    </div> 
                                
                            </div>
                        </form>
                            </div>
                            </div>
                            </div>
                     </div> 
                    </div> 
                </div> 
            </div> 
        </div> 
    </div>
                           </div>
                        </form>
                      
        </div> 
        </div> 
        </div> 
        </div>  
</div> 
</div> 
</div> 
</div> 
</div>
</div>



        <script type='text/javascript' src='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js'></script>
        <script type='text/javascript'>$(document).ready(function(){

var current_fs, next_fs, previous_fs;

// No BACK button on first screen
if($(".show").hasClass("first-screen")) {
$(".prev").css({ 'display' : 'none' });
}

// Next button
$(".next-button").click(function(){

current_fs = $(this).parent().parent();
next_fs = $(this).parent().parent().next();

$(".prev").css({ 'display' : 'block' });

$(current_fs).removeClass("show");
$(next_fs).addClass("show");

$("#progressbar li").eq($(".card2").index(next_fs)).addClass("active");

current_fs.animate({}, {
step: function() {

current_fs.css({
'display': 'none',
'position': 'relative'
});

next_fs.css({
'display': 'block'
});
}
});
});

// Previous button
$(".prev").click(function(){

current_fs = $(".show");
previous_fs = $(".show").prev();

$(current_fs).removeClass("show");
$(previous_fs).addClass("show");

$(".prev").css({ 'display' : 'block' });

if($(".show").hasClass("first-screen")) {
$(".prev").css({ 'display' : 'none' });
}

$("#progressbar li").eq($(".card2").index(current_fs)).removeClass("active");

current_fs.animate({}, {
step: function() {

current_fs.css({
'display': 'none',
'position': 'relative'
});

previous_fs.css({
'display': 'block'
});
}
});
});

});</script>
        <script type='text/javascript'>var myLink = document.querySelector();
        myLink.addEventListener('click', function(e) {
          e.preventDefault();
        });</script>
    
    <br>
    <br>
    <br>
    <footer>
        <%- include ('../partials/footer.ejs') %> 
        </footer>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script type='text/javascript' src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/js/bootstrap.bundle.min.js'></script>
    </body>
    </html>